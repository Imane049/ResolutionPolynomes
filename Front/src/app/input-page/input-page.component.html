<div class="ai-generator-container">
  <h1>Try Polynomial Solver!</h1>
  <p class="description">
    Effortlessly solve polynomial equations and explore numerical or analytical methods. Get precise results instantly!
  </p>

  <!-- Input Field -->
  <div class="input-with-button">
    <input
      type="text"
      id="inputField"
      [(ngModel)]="inputValue"
      placeholder="Try: 1x^2 + 5x^3 - 2x^2"
      required
      #inputControl="ngModel"
    />
  </div>
  <div *ngIf="!inputValue && inputControl.touched" class="error">
    Veuillez entrer un polynôme valide.
  </div>

  <!-- Numerical and Analytical Buttons -->
  <div class="method-buttons">
    <button class="btn-method" (click)="selectMethod('numerical')" [class.active]="!showAnalyticalOptions">
      Numerical
    </button>
    <button class="btn-method" (click)="selectMethod('analytical')" [class.active]="showAnalyticalOptions">
      Analytical
    </button>
  </div>

  <!-- Dropdown for Analytical Options -->
  <div *ngIf="showAnalyticalOptions" class="dropdown">
    <label for="analyticalMethod">Choose a method:</label>
    <select id="analyticalMethod" [(ngModel)]="selectedAnalyticalMethod">
      <option value="newton">Newton</option>
      <option value="bisection">Bisection</option>
      <option value="bairstow">Bairstow</option>
      <option value="muller">Müller</option>
      <option value="fixedpoints">Fixed Points</option>
    </select>
  </div>

  <!-- Domain Selection -->
  <div class="domain-selection">
    <label>
      <input type="radio" name="domain" value="real" [(ngModel)]="domain" /> Real
    </label>
    <label>
      <input type="radio" name="domain" value="complex" [(ngModel)]="domain" /> Complex
    </label>
  </div>

  <!-- Résolution Buttons -->
  <div class="resolution-buttons">
    <button class="btn-primary" (click)="onResolutionClick()">Résolution</button>
    <button class="btn-secondary" (click)="onDetailedResolutionClick()">Résolution Détaillée</button>
  </div>

  <!-- Result Textarea -->
  <textarea
    id="textAreaField"
    [(ngModel)]="textAreaValue"
    rows="4"
    cols="50"
    placeholder="Results will appear here..."
    readonly
  ></textarea>

  <!-- Modal for Detailed Resolution -->
  <div class="modal-overlay" *ngIf="showDetailedModal">
    <div class="modal">
      <h2>Detailed Resolution Result</h2>
      <textarea
        [(ngModel)]="textAreaValue"
        rows="15"
        readonly
        class="modal-textarea"
      ></textarea>
      <div>
      <button class="btn-close" (click)="closeDetailedModal()">Close</button></div>
    </div>
  </div>
</div>
